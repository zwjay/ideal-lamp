<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="基于github page和hexo的个人博客，主要用来进行技术分享"><title>Windows 10下安装CentOS双系统 | Diu.diu</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Windows 10下安装CentOS双系统</h1><a id="logo" href="/.">Diu.diu</a><p class="description">Diudiu的技术杂记</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Windows 10下安装CentOS双系统</h1><div class="post-meta"><a href="/2018/09/19/Windows-10下安装CentOS双系统/#comments" class="comment-count"></a><p><span class="date">Sep 19, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>本人对Linux系统一直怀着敬仰的心态，之后又想跟着一位大佬学长学习渗透来着。所以在安装双系统之前，就按他的要求在虚拟机中安装了CentOS 7系统，而且过程及其顺利。后来因为课程涉及到Linux系统，而我又不满足于虚拟机的速度，所以产生了安装双系统的想法。<br>这一路踩了几个坑，完全不像虚拟机那么轻松，这些问题网上资料又极少，找了一大圈终于算是成功安装。这篇文章不会写详细教程，因为网上实在是太多了，这里只介绍一下我遇到的几个问题，给朋友们一些参考。<br>PS:我是双硬盘安装，Windows 10用SSD作为C盘系统盘，然后我在HDD里划出一个空闲分区安装CentOS 7。</p>
<hr>
<h2 id="基本安装"><a href="#基本安装" class="headerlink" title="基本安装"></a>基本安装</h2><p>这里不详细的介绍安装过程，但是大家可以参考这篇文章<br><a href="https://www.linuxidc.com/Linux/2016-06/132051.htm" target="_blank">https://www.linuxidc.com/Linux/2016-06/132051.htm</a><br>介绍的还算详细，我就不啰嗦了。</p>
<hr>
<h2 id="1-刻录工具问题"><a href="#1-刻录工具问题" class="headerlink" title="1. 刻录工具问题"></a>1. 刻录工具问题</h2><p>因为之前在虚拟机安装CentOS 7的时候就是用的UltraISO（软碟通），所以这次还是用它，但是安装的时候就遇到了问题2，也就是下一个问题。开始我还一度以为是我U盘的问题，所以换了好几个U盘，但问题并没有解决。之后百度，Google了一圈，发现有人说使用UltraISO安装Linux就是容易出问题，但也有人说使用最新版的UltraISO就没有问题。所以我又换用其他几个，如USBWriter等工具，可是问题还是没有解决！直到我找到解决问题2的办法之后，使用UltraISO制作的启动盘成功安装了CentOS 7。<br>而且一些工具如USBWriter，制作启动盘之后，恢复U盘也还是个麻烦事儿。<br>所以，总结一下：<strong>UltraISO最新版貌似还是没有问题的！</strong></p>
<hr>
<h2 id="2-无法进入图形安装界面问题"><a href="#2-无法进入图形安装界面问题" class="headerlink" title="2. 无法进入图形安装界面问题"></a>2. 无法进入图形安装界面问题</h2><p>我卡在这一步很久很久，按照上面给出的的教程，走到如下图这一步之后<br><img src="/2018/09/19/Windows-10下安装CentOS双系统/教程截图.png" alt="教程截图" title="教程截图"><br>它并没有直接进入图形界面，而是出现下面的报错，然后进入文本安装界面，一小段时间之后，出现CPU死锁的报错,无法完成安装(这张图网上找的，自己拍的没留意就给删了)</p>
<blockquote>
<p>Not asking for VNC because we don’t have a network<br>X startup failed, falling back to text mode</p>
</blockquote>
<p><img src="/2018/09/19/Windows-10下安装CentOS双系统/报错.jpg" alt="报错" title="报错"><br>直到我在centos吧翻到一篇帖子，给出了解决办法，即在修改的U盘目录后面加上<strong><code>nomodeset</code></strong>,如下示例：</p>
<blockquote>
<p>mvlinuz initrd=initrd.img inst.stage2=hd:/dev/sdc2 nomodeset quite</p>
</blockquote>
<p>然后回车，就能进入图形安装界面了</p>
<hr>
<h2 id="3-引导的问题"><a href="#3-引导的问题" class="headerlink" title="3. 引导的问题"></a>3. 引导的问题</h2><p>安装完成之后，重启电脑。哎！怎么是Windows 10？说好的重启之后会找不到win10引导的呢？说好的CentOS 7呢？怎么都跟说好的不一样？之后我再重启电脑，进入BIOS，试着用GRUB2来启动电脑。果然！CentOS 7在这里！可是这里只有CentOS 7的启动项，没有win10啊！于是我找到下面这种方法：<br>进入CentOS 7系统，打开终端，进入root权限，执行以下命令：</p>
<blockquote>
<p># vi /etc/grub.d/40_custom</p>
</blockquote>
<p>进入文件后按a进行编辑，添加代码，结果如下：</p>
<blockquote>
<p>#!/bin/sh<br>exec tail -n +3 $0<br># This file provides an easy way to add custom menu entries. Simply type the<br># menu entries you want to add after this comment. Be careful not to change<br># the  ‘exec tail’ line above.<br>menuentry ‘Windows 10’{<br>set root=(hd0,1)<br>chainloader +1<br>}</p>
<p>~<br>~<br>~<br>~<br>~<br>~<br>~<br>“/etc/grub.d/40_custom” 9L,272C</p>
</blockquote>
<p>其中<strong>root</strong>中的参数<strong>hd0</strong>代表的是第一启动顺序的硬盘(在没修改BIOS启动项之前，hd0代表的即是装有win10C盘系统盘的SSD)，<strong>1</strong>代表的是此磁盘的第一个分区。<br>但我们之后是要将GRUB2更改为第一启动项的，所以，我们修改以上代码如下：</p>
<blockquote>
<p>menuentry ‘Windows 10’{<br>set root=(hd1,1)<br>chainloader +1<br>}</p>
</blockquote>
<p>修改完之后按<strong>Esc</strong>，再连按ZZ(大写)（或者<strong>Shift</strong>+<strong>:</strong>,再输入wq），保存编辑并退出。<br>然后再执行命令：</p>
<blockquote>
<p># grub2-mkconfig -o /boot/grub2/grub.cfg</p>
</blockquote>
<p>更新grub.cfg文件，最后执行</p>
<blockquote>
<p># reboot</p>
</blockquote>
<p>重启电脑，进入BIOS，修改GRUB2为第一启动项，然后保存退出，就可以看到既有CentOS 7又有Windows 10的启动项了</p>
<hr>
<h4 id="福利"><a href="#福利" class="headerlink" title="福利"></a>福利</h4><p>Linux经典入门书籍《鸟哥的Linux私房菜-基础篇》 第四版 PDF文件<br>链接:<a href="https://pan.baidu.com/s/1EMKlLJoqsk1zIrvB-hdXwg" target="_blank">https://pan.baidu.com/s/1EMKlLJoqsk1zIrvB-hdXwg</a> 密码:as2c</p>
</div><div class="tags"><a href="/tags/Linux/">Linux</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/09/01/Markdown编辑博客/" class="next">Markdown编辑博客</a></div><div id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zOTgyNy8xNjM1NA=="></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基本安装"><span class="toc-text">基本安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-刻录工具问题"><span class="toc-text">1. 刻录工具问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-无法进入图形安装界面问题"><span class="toc-text">2. 无法进入图形安装界面问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-引导的问题"><span class="toc-text">3. 引导的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#福利"><span class="toc-text">福利</span></a></li></ol></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/Windows-10下安装CentOS双系统/">Windows 10下安装CentOS双系统</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/01/Markdown编辑博客/">Markdown编辑博客</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/杂记/" style="font-size: 15px;">杂记</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Diudiu.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script><script>(function(d, s) {
  var j, e = d.getElementsByTagName('body')[0];
  if (typeof LivereTower === 'function') { return; }
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.appendChild(j);
})(document, 'script');
</script></body></html>